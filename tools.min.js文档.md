## tools.min.js 文档

请用markdown文档工具打开此文件。推荐使用：[typora](https://www.typora.io/)

### $

zepto库，文档：[http://zeptojs.com/](http://zeptojs.com/)

### newMallTools.emptyImgTJ(Option)
空图片统计。自家的最原始的统计方式。在页面会多出来一个div，class="no-png"。记得要多写一个样式.no-png{display:none;}，否则，页面会有一个错误图片。
Option：
```javascript
{
  titleName: '页面标题'
}
```

### newMallTools.selfTjProduct(Option)
商品统计。自家的统计。
Option:
```javascript
{
  openid:'openid',
  productId:'商品ID',
  sku_id:'商品的sku_id'，
  cpsType：'商品的cps_type',
  do:'search/buy',
  arcType:'活动类型'
}
```

### newMallTools.selfTjClick(Option)
点击统计。自家的统计。
```javascript
{
  position:'资源位名称，同友盟点击事件名称',
  action_from:'事件来源，资源位中的项目名称及位置',
  keyword:'搜索关键字',
  behavior:'buy买，search搜索'
}
```

### newMallTools.baseAjax(Option)
对zepto的ajax进行封装。参数的意义与zepto中的ajax参数意义相同。
```javascript
{
  async:'false/true',
  type:'get/post',
  url:'接口地址',
  data:'参数',
  cb:'数据回调函数，参数是接口返回的数据'
}
```

### newMallTools.getUrlParams(str, key)
获取地址中的指定参数值。
例：
执行：newMallTools.getUrlParams('http://m.baidu.com?a=1&b=2', 'b'); 
返回：2

例：
条件：当前页面：http://m.baidu.com?a=1&b=2
执行：newMallTools.getUrlParams('b');
返回：2
```
str:'url'
key:'url中的参数key'

如果只有一个str参数，那么str当做参数key
```

### newMallTools.getUrl(str)
获取指定地址的库对象
Option:
```
str:'url'

也可以不传
```
例：
条件：
当前页面地址 http://192.168.11.178:8000/index.html/?id=1。
执行：
newMallTools.getUrl()
返回：
```javascript
{
  "href":"http://192.168.11.178:8000/index.html/?id=1",
  "protocol":"http",
  "host":"192.168.11.178:8000",
  "baseurl":"http://192.168.11.178:8000",
  "path":"index.html",
  "query":"id=1",
  "queryParams":{"id":1},
  "hash":null
}
```

例：
条件：
当前页面地址 https://m.baidu.com/?a=1&b=2。
执行：
newMallTools.getUrl()
返回：
```javascript
{
  "href":"https://m.baidu.com/?a=1&b=2",
  "protocol":"https",
  "host":"m.baidu.com",
  "baseurl":"https://m.baidu.com",
  "path":"",
  "query":"a=1&b=2",
  "queryParams":{"a":1,"b":2},
  "hash":null
}
```
### newMallTools.getPlatform()
当前浏览状态下的平台信息。
返回：
```javascript
{
  server:'qa/dev', // qa:QA线，dev:开发线，无此字段这正式线
  current:'app/wechat/alipay/',
  app:1,// 与current一致，如果current为'app'，否则无此字段
  wechat:1,// 与current一致，如果current为'wechat'，否则无此字段
  alipay:1,// 与current一致，如果current为'alipay'，否则无此字段
  ios:1，// 当前设备为ios系统
  android：1 // 当前设备为android系统
}
```
### newMallTools.redirect(uri, instc, acts, isJump)
商城跳转公共函数。
```
uri:跳转地址，
instc:商品信息对象，
acts:活动信息对象，
isJump:是否显示跳转前提示信息，不传为显示
```

### newMallTools.getCookies()
集成js-cookie库

文档：[http://www.bootcdn.cn/js-cookie/readme/](http://www.bootcdn.cn/js-cookie/readme/)

### newMallTools.getMoment()
集成moment库

文档：[http://momentjs.com/docs/](http://momentjs.com/docs/)